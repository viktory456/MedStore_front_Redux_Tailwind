{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { createSelector } from \"@reduxjs/toolkit\";\nexport const api = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'http://localhost:3000/api'\n  }),\n  tagTypes: ['Skills'],\n  endpoints: builder => ({\n    getSkills: builder.query({\n      query: () => '/skills',\n      // transformResponse: responseData => {\n      //     const loadedSkills = responseData.map(skill => {\n      //         if (!skill?.createdAt) skill.createdAt = new Date()\n      //         return skill;\n      //     });\n      //     return loadedSkills\n      // },\n      providesTags: ['Skills']\n      // providesTags: (result, error, arg) => [\n      //     ...result.map(({ id }) => ({ type: 'Skills', id }))\n      // ]\n    }),\n    addNewSkill: builder.mutation({\n      query: newSkill => ({\n        url: '/skills',\n        method: 'POST',\n        body: newSkill\n      }),\n      // invalidatesTags: [\n      //     { type: 'Skills'}\n      // ]\n      invalidatesTags: ['Skills']\n    }),\n    deleteSkill: builder.mutation({\n      query: ({\n        id\n      }) => ({\n        url: '/skills',\n        method: 'DELETE',\n        body: {\n          id\n        }\n      }),\n      // invalidatesTags: (result, error, arg) => [\n      //     { type: 'Skills', id: arg.id }\n      // ]\n      invalidatesTags: ['Skills']\n    })\n  })\n});\nexport const {\n  useGetSkillsQuery,\n  useAddNewSkillMutation,\n  useDeleteSkillMutation\n} = api;","map":{"version":3,"names":["createApi","fetchBaseQuery","createSelector","api","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getSkills","query","providesTags","addNewSkill","mutation","newSkill","url","method","body","invalidatesTags","deleteSkill","id","useGetSkillsQuery","useAddNewSkillMutation","useDeleteSkillMutation"],"sources":["/Users/viktory456/Documents/WebDev/test tasks/ElifTech IT School/medicine_delivery_app/src/features/api/api.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\nimport { createSelector } from \"@reduxjs/toolkit\"\n\n\nexport const api = createApi({\n    reducerPath: 'api',\n    baseQuery: fetchBaseQuery({baseUrl: 'http://localhost:3000/api'}),\n    tagTypes: ['Skills'],\n    endpoints: builder => ({\n        getSkills: builder.query({\n            query: () => '/skills',\n            // transformResponse: responseData => {\n            //     const loadedSkills = responseData.map(skill => {\n            //         if (!skill?.createdAt) skill.createdAt = new Date()\n            //         return skill;\n            //     });\n            //     return loadedSkills\n            // },\n            providesTags: ['Skills'],\n            // providesTags: (result, error, arg) => [\n            //     ...result.map(({ id }) => ({ type: 'Skills', id }))\n            // ]\n        }),\n        addNewSkill: builder.mutation({\n            query: (newSkill) => ({\n                url: '/skills',\n                method: 'POST',\n                body: newSkill\n            }),\n            // invalidatesTags: [\n            //     { type: 'Skills'}\n            // ]\n            invalidatesTags: ['Skills'],\n        }),\n        deleteSkill: builder.mutation({\n           query: ({id}) => ({\n                url: '/skills',\n                method: 'DELETE',\n                body: {id}\n            }),\n            // invalidatesTags: (result, error, arg) => [\n            //     { type: 'Skills', id: arg.id }\n            // ]\n            invalidatesTags: ['Skills'],\n        })\n    })\n})\nexport const {\n    useGetSkillsQuery,\n    useAddNewSkillMutation,\n    useDeleteSkillMutation\n} = api\n\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AACxE,SAASC,cAAc,QAAQ,kBAAkB;AAGjD,OAAO,MAAMC,GAAG,GAAGH,SAAS,CAAC;EACzBI,WAAW,EAAE,KAAK;EAClBC,SAAS,EAAEJ,cAAc,CAAC;IAACK,OAAO,EAAE;EAA2B,CAAC,CAAC;EACjEC,QAAQ,EAAE,CAAC,QAAQ,CAAC;EACpBC,SAAS,EAAEC,OAAO,KAAK;IACnBC,SAAS,EAAED,OAAO,CAACE,KAAK,CAAC;MACrBA,KAAK,EAAEA,CAAA,KAAM,SAAS;MACtB;MACA;MACA;MACA;MACA;MACA;MACA;MACAC,YAAY,EAAE,CAAC,QAAQ;MACvB;MACA;MACA;IACJ,CAAC,CAAC;IACFC,WAAW,EAAEJ,OAAO,CAACK,QAAQ,CAAC;MAC1BH,KAAK,EAAGI,QAAQ,KAAM;QAClBC,GAAG,EAAE,SAAS;QACdC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEH;MACV,CAAC,CAAC;MACF;MACA;MACA;MACAI,eAAe,EAAE,CAAC,QAAQ;IAC9B,CAAC,CAAC;IACFC,WAAW,EAAEX,OAAO,CAACK,QAAQ,CAAC;MAC3BH,KAAK,EAAEA,CAAC;QAACU;MAAE,CAAC,MAAM;QACbL,GAAG,EAAE,SAAS;QACdC,MAAM,EAAE,QAAQ;QAChBC,IAAI,EAAE;UAACG;QAAE;MACb,CAAC,CAAC;MACF;MACA;MACA;MACAF,eAAe,EAAE,CAAC,QAAQ;IAC9B,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AACF,OAAO,MAAM;EACTG,iBAAiB;EACjBC,sBAAsB;EACtBC;AACJ,CAAC,GAAGrB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}