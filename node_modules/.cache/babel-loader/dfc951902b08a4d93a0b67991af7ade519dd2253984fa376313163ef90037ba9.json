{"ast":null,"code":"import { createSelector, createEntityAdapter } from \"@reduxjs/toolkit\";\nimport { apiSlice } from './api';\nconst couponsAdapter = createEntityAdapter({\n  sortComparer: (a, b) => a.id.localeCompare(b.id)\n});\nconst initialState = couponsAdapter.getInitialState();\nexport const couponsApiSlice = apiSlice.injectEndpoints({\n  endpoints: builder => ({\n    getCoupons: builder.query({\n      query: () => '/coupons',\n      transformResponse: responseData => {\n        return couponsAdapter.setAll(initialState, responseData);\n      },\n      providesTags: {\n        type: 'Coupons',\n        id: \"LIST\"\n      }\n    }),\n    copyCoupon: builder.mutation({\n      query: id => ({\n        url: `/coupons`,\n        method: 'PUT',\n        body: {\n          id\n        }\n      }),\n      invalidatesTags: {\n        type: 'Coupons',\n        id: \"LIST\"\n      }\n    })\n  })\n});\nexport const {\n  useGetCouponsQuery,\n  useCopyCouponMutation\n} = couponsApiSlice;\n// returns the query result object\nexport const selectCouponsResult = couponsApiSlice.endpoints.getCoupons.select();\n// Creates memoized selector\nconst selectCouponsData = createSelector(selectCouponsResult, couponsResult => couponsResult.data // normalized state object with ids & entities\n);\n//getSelectors creates these selectors and we rename them with aliases using destructuring\nexport const {\n  selectAll: selectAllCoupons,\n  selectById: selectCouponById,\n  selectIds: selectCouponIds\n  // Pass in a selector that returns the posts slice of state\n} = couponsAdapter.getSelectors(state => {\n  var _selectCouponsData;\n  return (_selectCouponsData = selectCouponsData(state)) !== null && _selectCouponsData !== void 0 ? _selectCouponsData : initialState;\n});","map":{"version":3,"names":["createSelector","createEntityAdapter","apiSlice","couponsAdapter","sortComparer","a","b","id","localeCompare","initialState","getInitialState","couponsApiSlice","injectEndpoints","endpoints","builder","getCoupons","query","transformResponse","responseData","setAll","providesTags","type","copyCoupon","mutation","url","method","body","invalidatesTags","useGetCouponsQuery","useCopyCouponMutation","selectCouponsResult","select","selectCouponsData","couponsResult","data","selectAll","selectAllCoupons","selectById","selectCouponById","selectIds","selectCouponIds","getSelectors","state","_selectCouponsData"],"sources":["/Users/viktory456/Documents/WebDev/test tasks/ElifTech IT School/medicine_delivery_app/src/features/api/couponsSlice.js"],"sourcesContent":["import {createSelector, createEntityAdapter} from \"@reduxjs/toolkit\"\nimport {apiSlice} from './api'\n\nconst couponsAdapter = createEntityAdapter({\n    sortComparer: (a, b) => a.id.localeCompare(b.id)\n})\n\nconst initialState = couponsAdapter.getInitialState()\n\nexport const couponsApiSlice = apiSlice.injectEndpoints({\n       endpoints: builder => ({\n        getCoupons: builder.query({\n            query: () => '/coupons',\n            transformResponse: responseData => {\n                return couponsAdapter.setAll(initialState, responseData)\n            },\n            providesTags: { type: 'Coupons', id: \"LIST\" },\n        }),\n        copyCoupon: builder.mutation({\n            query: (id) => ({\n                url: `/coupons`,\n                method: 'PUT',\n                body: {id}\n            }),\n            invalidatesTags: { type: 'Coupons', id: \"LIST\" },\n    })\n})\n})\nexport const {\n    useGetCouponsQuery,\n    useCopyCouponMutation\n} = couponsApiSlice\n// returns the query result object\nexport const selectCouponsResult = couponsApiSlice.endpoints.getCoupons.select()\n// Creates memoized selector\nconst selectCouponsData = createSelector(\n    selectCouponsResult,\n    couponsResult => couponsResult.data // normalized state object with ids & entities\n)\n//getSelectors creates these selectors and we rename them with aliases using destructuring\nexport const {\n    selectAll: selectAllCoupons,\n    selectById: selectCouponById,\n    selectIds: selectCouponIds\n    // Pass in a selector that returns the posts slice of state\n} = couponsAdapter.getSelectors(state => selectCouponsData(state) ?? initialState)"],"mappings":"AAAA,SAAQA,cAAc,EAAEC,mBAAmB,QAAO,kBAAkB;AACpE,SAAQC,QAAQ,QAAO,OAAO;AAE9B,MAAMC,cAAc,GAAGF,mBAAmB,CAAC;EACvCG,YAAY,EAAEA,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,EAAE,CAACC,aAAa,CAACF,CAAC,CAACC,EAAE;AACnD,CAAC,CAAC;AAEF,MAAME,YAAY,GAAGN,cAAc,CAACO,eAAe,CAAC,CAAC;AAErD,OAAO,MAAMC,eAAe,GAAGT,QAAQ,CAACU,eAAe,CAAC;EACjDC,SAAS,EAAEC,OAAO,KAAK;IACtBC,UAAU,EAAED,OAAO,CAACE,KAAK,CAAC;MACtBA,KAAK,EAAEA,CAAA,KAAM,UAAU;MACvBC,iBAAiB,EAAEC,YAAY,IAAI;QAC/B,OAAOf,cAAc,CAACgB,MAAM,CAACV,YAAY,EAAES,YAAY,CAAC;MAC5D,CAAC;MACDE,YAAY,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEd,EAAE,EAAE;MAAO;IAChD,CAAC,CAAC;IACFe,UAAU,EAAER,OAAO,CAACS,QAAQ,CAAC;MACzBP,KAAK,EAAGT,EAAE,KAAM;QACZiB,GAAG,EAAG,UAAS;QACfC,MAAM,EAAE,KAAK;QACbC,IAAI,EAAE;UAACnB;QAAE;MACb,CAAC,CAAC;MACFoB,eAAe,EAAE;QAAEN,IAAI,EAAE,SAAS;QAAEd,EAAE,EAAE;MAAO;IACvD,CAAC;EACL,CAAC;AACD,CAAC,CAAC;AACF,OAAO,MAAM;EACTqB,kBAAkB;EAClBC;AACJ,CAAC,GAAGlB,eAAe;AACnB;AACA,OAAO,MAAMmB,mBAAmB,GAAGnB,eAAe,CAACE,SAAS,CAACE,UAAU,CAACgB,MAAM,CAAC,CAAC;AAChF;AACA,MAAMC,iBAAiB,GAAGhC,cAAc,CACpC8B,mBAAmB,EACnBG,aAAa,IAAIA,aAAa,CAACC,IAAI,CAAC;AACxC,CAAC;AACD;AACA,OAAO,MAAM;EACTC,SAAS,EAAEC,gBAAgB;EAC3BC,UAAU,EAAEC,gBAAgB;EAC5BC,SAAS,EAAEC;EACX;AACJ,CAAC,GAAGrC,cAAc,CAACsC,YAAY,CAACC,KAAK;EAAA,IAAAC,kBAAA;EAAA,QAAAA,kBAAA,GAAIX,iBAAiB,CAACU,KAAK,CAAC,cAAAC,kBAAA,cAAAA,kBAAA,GAAIlC,YAAY;AAAA,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}